!function($){"use strict";$(function(){$("#theme-options").tabs()}),$(".image-clear-button").click(function(t){$(this).siblings("input[type=text]").val(null),$(this).siblings("input[type=hidden]").val(null),$(this).siblings(".image-preview").remove(),t.preventDefault()}),$(".js-switch").each(function(){var t=$(this),e=$(this).parent();if($(t).is(":checked"))var i='<div class="switch on"><div class="handle"></div></div>';else var i='<div class="switch"><div class="handle"></div></div>';$(i).insertAfter(t).click(function(){$(this).toggleClass("on"),$(t).is(":checked")?t.prop("checked",!1):t.prop("checked",!0)}),$("label.name",e).click(function(){$("div.switch",e).toggleClass("on")})}),$("#save-options-top").attr("style","right:"+$("#wp-admin-bar-my-account").width()+"px"),$("#save-options-bottom, #save-options-top").click(function(t){var e={};$(".wp-editor-wrap").length>0&&tinyMCE.triggerSave(),$("#theme-options [class*=theme-option]").each(function(){if($(this).is("input[type=text]")||$(this).is("textarea")||$(this).is("input[type=hidden]")||$(this).is("select")){var t=$(this).val();$.isArray(t)&&(t=t.toString()),e[$(this).attr("id")]=t}else $(this).is("input[type=checkbox]:checked")?e[$(this).attr("id")]="true":$(this).is("input[type=radio]:checked")?e[$(this).attr("name")]=$(this).val():$(this).is("input[type=checkbox]")&&(e[$(this).attr("id")]=null)}),jQuery.post(ajaxurl,{action:js_options_data[10]+"_save_options",data:e,theme_options_nonce:$("#theme_options_nonce").val()},function(t){$("input, textarea").each(function(){$(this).attr("disabled","disabled")}),$("#theme-options-wrapper").attr("style","opacity: 0.35"),"false"!=t?$("#options-saved").fadeIn():$("#options-error").fadeIn(),$("#save-options-bottom, #save-options-top").addClass("disabled").text(js_options_data[2]),setTimeout(function(){$(window).off("beforeunload"),"false"!=t?$("#options-saved").fadeOut():$("#options-error").fadeOut(),$("input, textarea").each(function(){$(this).removeAttr("disabled")}),$("#theme-options-wrapper").removeAttr("style"),$("#save-options-bottom, #save-options-top").each(function(){$(this).removeClass("disabled").text($(this).attr("title"))})},1500)}),t.preventDefault()}),$("#reset-options-bottom").click(function(t){if(confirm(js_options_data[4])){var e=new Array;jQuery.post(ajaxurl,{action:js_options_data[10]+"_reset_options",data:e},function(t){location.reload()})}t.preventDefault()}),$("#backup").click(function(t){if(confirm(js_options_data[8])){var e=$(this).parents(".message"),i=new Array,a=[],o=0;$("#theme-options [id^="+js_options_data[5]+"]").each(function(){if($(this).is("input[type=text]")||$(this).is("textarea")||$(this).is("input[type=hidden]")||$(this).is("select")){var t=$(this).val();$.isArray(t)&&(t=t.toString()),a[o]={option:$(this).attr("id"),value:t}}else $(this).is("input[type=checkbox]:checked")?a[o]={option:$(this).attr("id"),value:"true"}:$(this).is("input[type=radio]:checked")?a[o]={option:$(this).attr("name"),value:$(this).val()}:$(this).is("input[type=checkbox]")&&(a[o]={option:$(this).attr("id"),value:null});o++}),i.push(new Array(js_options_data[5]+"_theme_options_backup_list")),i.push(new Array(js_options_data[5]+"_theme_options_backup_",JSON.stringify(a))),jQuery.post(ajaxurl,{action:js_options_data[10]+"_backup_options",data:i},function(t){$(window).off("beforeunload"),location.reload()})}t.preventDefault()}),$(".delete-backup").click(function(t){if(confirm(js_options_data[7])){var e=$(this).parents(".message"),i=$(this).parents("li"),a=$(this).parents(".backup-list"),o=new Array;o.push(new Array(js_options_data[5]+"_theme_options_backup_"+$(this).data("backup"),$(this).data("backup"))),jQuery.post(ajaxurl,{action:js_options_data[10]+"_reset_options",data:o},function(t){1==a.children().length?(e.removeClass("with-list").addClass("no-list"),i.remove()):i.remove()})}t.preventDefault()}),$(".restore-backup").click(function(t){if(confirm(js_options_data[6])){var e=new Array;e.push(new Array(js_options_data[5]+"_theme_options_backup_"+$(this).data("backup"))),jQuery.post(ajaxurl,{action:js_options_data[10]+"_restore_options",data:e},function(t){$(window).off("beforeunload"),location.reload()})}t.preventDefault()}),$("#import-options").click(function(t){if(confirm(js_options_data[4])){var e=$("#import_field").val();jQuery.post(ajaxurl,{action:js_options_data[10]+"_import_options",data:e},function(t){$(window).off("beforeunload"),location.reload()})}t.preventDefault()}),$(".select-chosen").chosen({width:"100%"}),$("select.select-style").selectric({maxHeight:170}),$("input, textarea, select").on("change",function(){$(window).on("beforeunload",function(t){return js_options_data[3]})}),$(document).ready(function(){$(function(){$(".buttons").buttonset()}),$(".color-picker").wpColorPicker(),$(".image-upload-button").click(function(t){var e=$(this).parent(),i=$(this);t.preventDefault();var a=wp.media({title:i.data("upload-title"),button:{text:i.data("upload-button")},multiple:!1}).on("select",function(){var t=a.state().get("selection"),i=t.first().toJSON();$("input[type=text]",e).val(i.url),$("input[type=hidden]",e).val(i.id),e.hasClass("upload_file")||($("img",e).length>0?$(".image-preview",e).attr("src",i.url):($('<img src="'+i.url+'" class="image-preview">').insertBefore($(":last-child",e)),$(".image-clear-button",e).attr("style","display:inline-block")))}).open()})})}(jQuery);